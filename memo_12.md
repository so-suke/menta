12章
#### 分からなかったこと
- パーティションを分けるメリットの一つに「ファイルアクセスの速度向上」とありました。
これは、どういうことなのでしょうか。
ある一定の役割ごとにファイルをパーティションに分けることで、パソコンがアクセスしやすくなる認識で宜しいでしょうか。
- マウント時のファイルシステムは、基本的に `ext4` を指定すれば宜しいでしょうか。
#### 分かったこと
###### マウントについて
- マウントとは、ディスクやデバイスをパソコンに認識させ、利用可能にするための操作。
- マウント先のディレクトリは、マウント元の内容に置き換わるので読み書きが出来なくなる。
###### FHSについて
- linuxのディレクトリ・ファイル構造。ファイルは必ずディレクトリに属している。
###### パーティションについて
- ハードディスクを区切ったもの。部屋のようなもの。
- メリット: バックアップ時の利便性向上、障害の影響範囲を狭める
- `fdiskコマンド` で作成・削除・情報表示ができる。
- 1つのハードディスクは、2個から4個までの領域(パーティション)に分けることが出来る。基本領域または拡張領域に分けられる。
  - 分割例: `基本4個` または `基本3個 + 拡張1個`
  - 拡張領域について
    - 1ハードディスクに1つだけ。
    - 論理領域を含める役割を持つ。
    - ファイルシステムは、作成出来ない
  - 論理領域は、拡張領域の中でしか作成できない。
    - ファイルシステムを作成し、ファイル・ディレクトリを格納できる。
- IDE・SATAとは、PC・ハードディスクなどの接続規格。
- 新しくハードディスクを接続する場合。
  - データ領域とスワップ領域を作成する。
  - パーティションの分割は後で変更が困難なので、始めにしっかり検討。
  - 既存パーティションを操作すると、データが消える恐れがあるので注意。
  - `fdiskコマンド` について
    - 最初はID:83(linux用)で作成される。スワップ用にしたい場合ID:82にする。
    - 書き込みはw, 終了はq
###### ファイルシステムについて
- ファイルを管理するもの。
- ext3, 4からジャーナリング機能が付いている。
- ジャーナリング機能とは、ディスクへの変更履歴を逐一記録する機能。障害からの復旧に役立つ。
- `dfコマンド` で現在のマウント情報を確認できる。
- ファイルシステムの作成は、 `mkfsコマンド`
- ラベルとは、パーティションにつける名前。部屋名と考えればいい？
  - `e2labelコマンド` で指定できる。
###### マウントについて
- CDやDVDをパソコンに認識させる操作。
- マウントポイントとは、マウント先ディレクトリ。
- マウント手順
  - マウントポイント作成。
  - マウント実行。
  - マウントポイントの確認( `lsコマンド` )
- マウントポイントが利用中・参照中の場合、アンマウントできない。
###### スワップ領域について
- カーネルがメモリの代わりとして一時的に使うパーティション領域のこと。
- 利用までの手順は、スワップ用パーティションの作成。スワップファイルシステムの作成。
- `mkswapコマンド` でスワップ領域(パーティション)を作成できる。
- スワップ領域、有効化の手順。
  - スワップ領域作成
  - ID:82のパーティションにスワップファイルシステムを作成。
  - 現在のスワップ領域情報を確認。 `swapon -s`
  - スワップ領域を有効化。
###### 自動マウントについて
- `/etc/fstab` にファイルシステムを記入。 `mount -a` を実行。またはシステム再起動。
###### iノードについて
- ファイルシステム上のファイル・ディレクトリの管理番号。
- 記憶容量が空いていても、iノードが不足していると新規ファイル作成ができない。
###### ハードリンクとシンボリックリンクについて
- ハードリンクについて
  - 直接、ファイルの実体を指す。
  - 同じiノード番号を共有する。
  - 別パーティション間で作成できない。
- シンボリックリンクについて
  - ファイルのパスを示す擬似的なファイル。
  - windowsのショートカット。
  - シンボリックリンクを削除しても、元ファイルに影響はない。
  - 元ファイルを消すと、エラーになる。
  - 別パーティション間で作成できる。
###### ディスク管理について
- ファイルシステムのチェックと修復について
 - `fsckコマンド` を使用する。異常終了した場合は、自動的に実行される。
- 修復前にファイルシステムをアンマウントした方が良い。
- `duコマンド` でディレクトリ使用量の確認ができる。